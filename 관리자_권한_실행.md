- 관리자 계정 접속
  - 관리자 계정은 사용자 계정생성과 권한 부여 등의 리눅스 시스템의 전반적인 관리를 수행
  - 관리자 계정으로 접속하려면 먼저 터미널 창에 나타난 '$' 프롬프트를 '#' 프롬프트로 변경한 다음 관리자인 root 계정으로 로그인
- 프롬프트 변경
  - `$ su [옵션] 계정이름`
  - 터미널 창에 나타난 $ 프롬프트는 일반 사용자 계정으로 접속된 상태를 의미
  - 다른 계정으로 교체할 때는 substitute의 약어인 su 명령을 사용
  - 일반 상요자 계정에서 root 또는 다른 사용자 계정으로 변경할 때는 암호를 물어봄
  - `$ su - 계정이름`
    - `-` 옵션
    - 환경 변수를 함께 가져오기 => 새로운 셸로 교체하면서 사용
    - 많이 붙여서 사용

- 계정정보 확인
  - 계정에 대한 일반정보는 /etc/passwd 파일에 저장되어 있음
  - 유닉스를 사용했던 초기시절에 비해 해킹에 대한 위험이 최근에선 급증
- 로그인 ID:-:-:-: :사용 쉘
  - 로그인 ID
  - 암호 저장 항목
  - UID
  - GID
    - 한 사용자는 한 그룹에 속한 것이 원칙
    - 미지정시 그 사용자가 그룹
  - 설명



- ## 사용자 계정 관리

- 시스템 관리자가 함

- 사용자 계정 생성
  - 사용자 계정은 여러 명의 사용자가 리눅스 시스템에 접속하여 사용할 때 사용자를 구별하는 역할을 수행
  - 사용자 계정은 사용자가 시스템에 접근할 수 있는 유일한 방법이며
  - 시스템 관리자 입장에서도 사용자의 접근 권한을 통제할 수 있는 중요한 역할을 수행
  - 그렇기 때문에 사용자 계정 정보는 리눅스 시스템 관리자의 중요한 업무 중 하나

- 한 계정으로 여러 사람이 동시에 접속해서 작업 가능?
  - 

- `$ adduser` 

  - 홈 디렉터리가 자동으로 만들어짐
  - 근데 Centos에서는 별 차이 없음

- `$ useradd`

  - 사용자와 관련된 설정 값들을 직접 지정하기 위해 사용
  - 얘 쓰라고 나와있지만 앞서 말했듯 별 차이 없음

  - -d 홈 디렉터리, -e 유효기간 설정

- `$ ls /home`으로 유저 생성 확인

- `$ su - daou1`으로 유저 변경

  - 루트로 갈 때는 `$ su -` 만 해도 될 지도?

- `$ pwd`로 홈 디렉터리 확인

  ![image-20230111090933656](C:\Users\User\Desktop\Linux\관리자_권한_실행.assets\image-20230111090933656.png)

- `$ vi /etc/passwd`에서 계정 생성 확인

- `$ passwd` [사용자명]
  - 비밀번호 변경
  - 안되면 루트로 가서 변경

- `$ ssh daou1@호스트ip`
  - 호스트를 통해 daou1 사용자가 접속
- /etc/shadow
  - 암호화된 패스워드 저장된 파일
- 리눅스 파일 내용 출력
  - `$ tail`

- 사용자 계정정보 수정

  - usermod
  - `$ usermod -u 2001 daou1`

  - usermod에서 현재 사용자는 뒤에 나옴
  - 주의!
    -  -d를 써서 사용자를 만들었을 때와는 달리, 홈 디렉터리를 변경했을 때, 
      - 변경한 디렉터리가 생성되지 않는다 + 이전 디렉터리가 남아있다.
      - => 정보'만' 바뀐다.
    - `$ usermode -l test002 test001`
      - 사용자의 계정명이 아예 변경
      - test001을 test002로 변경 
      - 그런데, test002로 변경한 상태에서 -r 옵션으로 홈 디렉터리까지 같이 삭제를 실행했을 때, test001(test002의 홈 디렉터리)가 없으면 없다는 출력이 나온다(아이디 삭제는 됨)
      - 실제로 /home에 test001가 없어서 발생하는 오류이다.

- 문제풀이

  - 얘 정도만 기억
    - `$ usermod -u 2003 test01`

  - `$ usermod -d /home/workspace_06/ test01`

  - `$ usermod -l manager test01`

- chage

  - 사용자 암호 기한설정 및 변경
  - 많이 사용하는 옵션
    - -M
      - modify
    - -W
  - 

- ## 그룹 관리

  - 새 그룹은 /etc/group 파일에 저장되며 사용형식은 다음과 같음

- 그룹추가

  - `$ groupadd [-g GID] [-o] 그룹명` 
    - 옵션
      - -g
        - gid 직접설정
        - 일반적인 설정이 아님
      - -o
        - gid를 중복가능하게 함

- 그룹 암호 설정 및 삭제
  - gpasswd
    - passwd앞에 g
  - 그룹 암호관리(/etc/group과  /etc/gshadow)
    - 근데 그룹 비밀번호 잘 지정 안함
  -  그룹에 사용자 추가
    - gpasswd -a [사용자] [그룹]
  - 사용자 정보에는 반영되지 않는다.

- 소속 그룹 출력
  - 

## 소유자

- chown
  - change own
  - `$ chown [옵션] [계정이름] [디렉토리및파일명]`
  - 소유권도 관리자가 변경할 수 있음



## 소유자와 소유그룹 변경

chown 소유자:소유그룹



그룹만 변경

- chgrp
  - 옵션
    - `-R`



## 리눅스 셧다운 

