# 소프트웨어 관리

## 1. RPM 패키지

### I. RPM의 특징

- 안 쓴다

- YUM이 나오기 이전에 소프트웨어 관리를 위해 주로 사용되어 온 소프트웨어 업데이트 패키지
- 인터넷 연결이 필수
- RPM의 장점
  - 바이너리 파일로 구성되어 있으므로 따로 컴파일 과정이 필요 없음
  - 패키지 형태로 파일들이 제공되므로 관련 디렉터리에 곧바로 설치됨
  - 한 번에 설치된 패키지의 파일을 일괄삭제가 가능하며 기존 패키지를 삭제하지 않고도 업데이트 가능
- RPM의 단점
  - RPM의 최대 단점은 패키지 형태로 제공되기 때문에 관련 패키지가 먼저 설치되어 있어야 함
  - 기존 패키지가 설치되어 있지 않다면 패키지를 설치 할 수 없다는 의존성이 가장 큰 걸림돌임

### II. 자주 사용하는 명령어

- RPM 패키지는 rpm 명령으로 사용할 수 있으며 사용 형식은 다음과 같음

#### 1) RPM 명령어

- `$ rpm [옵션]`

- rpm 패키지 관리

### III. RPM 패키지 이름 구성

![image-20230112105102973](C:\Users\User\Desktop\Linux\소프트웨어_관리.assets\image-20230112105102973.png)

1. 패키지 이름
   - RPM 패키지 이름의 첫 번째 항목에는 패키지 이름을 의미
2. 패키지 버전
   - 두 번째 항목은 해당 패키지의 버전을 의미
3. 패키지 릴리즈
   - 해당 버전에서 볓 번째 만들어진 것인지를 의미
4. 아키텍처
   - 사용하는 시스템의 아키텍처를 의미
     - x86은 인텔, 64는 64bit 운영체제를 나타냄



## 2. YUM을 이용한 패키지 설치

### I. Yum이 제공하는 편의성

- 특정 패키지를 설치할 때 이와 관련된 다른 패키지가 필요할 경우 자동으로 인터넷에서 다운받아 설치해 주는 기능 보유
- 필요에 따라 필요한 패키지를 스스로 알아서 설치해 주므로 RPM을 이용할 때의 의존성을 완전히 해결
- 인터넷 연결 필수

### II. Yum 사용방법

- `$ yum [옵션] [명령] [패키지 이름]`

- 옵션
  - -h
    - 도움말
  - -v
    - verbose
  - -y
    - 설치과정에서 모든 항목을 yes로 응답하고 진행
- 명령
  - install
  - remove
    - 삭제
  - update
  - search
    - 패키지 검색
    - `$ yum search 패키지이름`
  - list
    - Centos에서 제공하는 모든 패키지 리스트
    - `$ ls`와 비슷한 느낌
    - 옵션
      - updates
      - installed
        - `$ yum list installed | grep 패키지이름`등으로도 활용 가능
    - `$ yum list | grep 패키지이름` 으로 search와 비슷하게 활용
    - `$ yum list | more` 
      - 현재 시스템에 설치되어 있는 패키지와 업데이트 가능한 패키지 목록 출력
  - check-update
    - 현재 사용 중인 시스템에 설치된 패키지 중 업데이트 가능한 패키지를 확인
  - 등등

- 참고

  - wget

  - yum이 모든 패키지를 제공하지는 않으므로, 그런 소프트웨어들을 인터넷을 사용해서 다운받음

### III. 알아두면 유용한 사용방법

- Yum 명령으로 패키지를 설치하는 방법 중에서 알아두면 유용하게 사용할 수 있는 방법

1. 패키지 그룹 목록 출력

   - `# yum grouplist`

   - 그룹이란 기능별로 묶어둔 것

2. 패키지 그룹 설치

   - 용량 문제 때문에 자주 사용하지 않음

3. GPG 키 검사 생략

4. 기존 패키지 저장소 비우기
   - `# yum clean all`

#### 패키지의 종류





## 3. ISO 파일 생성

### I. ISO파일

- 소프트웨어 관리 파일
- 소프트웨어 이미지 파일

- ISO 파일도 마운트해야 사용 가능
  - 파일이지만 원래 CD-ROM을 통해 읽어내야 하는 파일이므로



## 4. 파일 압축과 묶음

### I. 파일 압축과 해제

- 압축하면 원본 파일은 압축 파일로 대체된다.
  - tar 명령으로 같이 묶은 후 압출할 때는 원본 유지
- 같은 확장자로 재압축은 불가능하다.
  - 다른 확장자는 가능
- gzip이나 bzip2는 디렉토리 압축을 지원하지 않는다.
  - tar로 묶은 후 압축을 진행해야 한다.

#### 1) xz명령

- `# xz [옵션] [압축할파일이름]`
- 리눅스 파일을 확장자 xz방식으로 파일 압축과 해제

#### 2) bzip2

#### 3) gzip

- 많이 쓴다.

#### 4) zip

### II. 파일 묶음과 풀기

- 리눅스와 유닉스에서는 파일 압축과 파일 묶음을 별개의 프로그램으로 제공하고 있다.
- 그러나 사용자의 편의성을 위해 압축과 묶음을 한 번에 수행할 수 있도록 tar 명령을 제공한다.
- tar로 묶은 파일은 재묶음이 가능하다.

#### 1) tar

- `# tar 동작 [옵션]`
- 많이 사용
  - 암기 필요

- tar의 ar는 archive를 의미
  - 예시
    - java의 jar
    - 자바와 관련된 파일 묶음

- 동작
  - c
    - create
    - 새로운 묶음 생성
  - x
    - 묶인 파일을 풀어줌
  - t
    - 묶인 경로를 출력
    - 얘는 많이 쓰이지는 않음
  - c
    - 압축을 풀 경로를 출력
- 옵션
  - f
    - **필수 옵션**
    - 묶음 파일의 이름을 지정
  - v
    - 생략 가능
    - verbose
  - J
  - z
    - 자주 사용
  - j

- 예시
  - `# tar cvfJ /root/test.tar.xz /etc/sysconfig`
    - /etc/sysconfig 파일을 압축해서 /root 디렉토리에 test.tar라는 이름으로 xz압축 묶음 생성 



## 5. CRON과 AT

### I. 주기적 반복 작업설정

- 일정한 주기별로 수행해야 할 작업을 설정하는 기능을 데몬이라고 하며 데몬의 기능은 crond 명령에 의해 동작
- 시스템 업데이트 또는 디렉터리 백업 등 주기적 반복작업 수행은 crontab 명령을 사용

#### 1) crontab

1. 데몬 실행
   - background에서 실행됨
   - <=> foreground에서 실행
   - 뒤에 d가 붙어 있는 경우 데몬과 관련

![image-20230112135506951](C:\Users\User\Desktop\Linux\소프트웨어_관리.assets\image-20230112135506951.png)

- 크론 표현법: 암기!



### II. 일회성 작업설정

#### 1) AT

- 잘 안씀