# 컴퓨터 구조

[toc]

## 1. 컴퓨터 시스템의 개괄

- 하드웨어
  - 컴퓨터를 구성하는 기계 장치
- 소프트웨어
  - 하드웨어를 작동하려고 만든 알고리즘을 프로그램 형태로 제작한 것



### 1. 하드웨어의 5대 장치

- 필수 장치
  - CPU, 메인메모리
- 주변 장치
  - 입력, 저장, 출력 장치

1. CPU

   - 명령어를 해석, 실행하는 장치

   - 인간의 두뇌

2. 메인메모리

   - 작업에 필요한 프로그램과 데이터를 저장하는 장소

   - CPU에 데이터를 넘겨주고 처리한 데이터를 다시 저장
   - 전원 공급이 끊어지면 내부에 담긴 데이터가 날아간다.

3. 입력장치
   - 천공카드 => 키보드 => 마우스 순서로 개발
4. 출력장치
   - 진공관 => 라인 프린터 => 모니터 순으로 개발
5. 저장 장치
   - 전원이 꺼진 이후에도 데이터를 보관할 수 있는 장치
   - 카세트 테이프 => 플로피디스크, 하드디스크 => SSD. USB. SD 카드 순서로 개발
   - 클라우드 시스템도 일종의 저장 장치 역할 가능



### 2. 메인보드와 버스

- 메인보드
  - CPU와 메모리 등 다양한 컴퓨터 부품을 연결시켜 주는 커다란 판
- 버스
  - 컴퓨터 안의 부품들, 혹은 컴퓨터 간 데이터와 정보, 전기를 전송하는 통로
  - 메인보드에 있는 버스를 시스템 버스(system bus) 혹은 전면 버스(FSB: Front-Side Bus)라고 함
  
- 포트
  - 메인보드에서 포트는 각종 부품을 꽂을 수 있는 단자



### 3. 폰 노이만 구조(중요!)

- 모든 하드웨어가 버스로 연결된 구조

- 하드웨어는 그대로 둔 채 작업용 프로그램만 교체하여 **메인메모리**에 **올리는** 방식
  - 메인메모리로 프로그램이 가능한 컴퓨터 구조
- 하드와이어링 형태의 컴퓨터의 문제를 해결하기 위해 미국 수학자 존 폰 노이만이 고안
- 현대 모든 컴퓨터가 이 방식을 따름



#### 폰 노이만 구조의 특징

- 모든 프로그램은 **메인메모리**에 **올라와야** 실행이 가능함



#### 폰 노이만 구조의 도마 비유

- 도마(메인메모리), 주방장(CPU), 보관 창고(저장 장치)
- 창고에 있는 재료는 도마에 올라와야 주방장이 요리 가능
- **저장장치에 있는 프로그램은 메모리에 올라와야만 실행 가능**



#### 폰 노이만 구조에서 프로그램 작성과 프로그램 로딩이 이루어지는 과정



#### 메인메모리 크기와 작업 속도

- 메인 메모리 크기는 컴퓨터 속도에 영향을 미침
  - 메인메모리가 클 수록, 더 많은 데이터와 프로그램을 가져다 놓고 작업할 수 있기 때문에 작업 속도가 빠름

- 단, 메인 메모리가 필요없이 커진다고 해도 컴퓨터가 빨라지지는 않음



### 4. 입출력 채널

#### 1. 주변 장치의 분류

- 고속 주변 장치
  - 메인메모리와 주변 장치 사이에 대용량의 데이터가 오고 가는 전송률이 높은 장치
  - 그래픽카드(출력 장치), 하드디스크, USB메모리 순서로 속도가 빠름
- 저속 주변 장치
  - 메인메모리와 주변 장치 사이에 오고 가는 데이터의 양이 적어 데이터 전송률이 낮은 장치
  - 프린터, 키보드-마우스 순서로 속도가 빠름

#### 2. 채널

- 채널이란?

  - 컴퓨터에서는 병목 현상을 방지하려고 버스를 여러 개 사용
	
  - 버스 여러 개에서 데이터가 지나다니는 하나의 통로를 채널이라고 함

 - 채널 분리
   - 여러 채널을 효율적으로 사용하기 위해 속도가 비슷한 장치끼리 묶는 것

#### 3. 다채널 버스 구조

- 여러 채널을 운영하는 컴퓨터의 버스는 '메인버스'와 '입출력 버스'로 나뉨
- 메인버스
  - CPU와 메인메모리가 사용하는 버스, 컴퓨터 내 버스 중 가장 빠름
  - 주변 장치는 메인버스에 직접 연결되지 못함
  - 그래픽 카드만 메인버스에 바로 연결
- 입출력 버스(I/O Bus)
  - 주변 장치와 직접 연결된 버스, 고속 입출력 버스와 저속 입출력 버스로 나눔
  - 고속 입출력 버스와 저속 입출력 버스 사이의 데이터 전송은 채널 선택기가 관리(전송 속도 조절)
  - 메인 버스와 메인버스 사이 데이터 전달은 입출력 제어기가 담당



## 2. 컴퓨터 시스템의 성능 향상

### 1. 버퍼

#### 1. 개념과 사용 예시

- 개념
  - **속도 차이가 나는 두 장치 사이**에서 **일정 양의 데이터를 모아 옮김**으로써 **속도 차이를 완화**하는 장치
  - 같은 사양의 하드디스크라면 버퍼 용량이 큰 것이 더 빠름
- 버퍼의 사용 예
  - 동영상 스트리밍
    - 일정량의 데이터를 버퍼에 넣은 후 실행시킴
  - 드라이브 간 파일을 옮길 때, 옮겨지기 전 약간의 시간에 버퍼 적용



#### 2. 소프트웨어적 버퍼: 스풀러

- 프린터에 사용하는 스풀
- 스풀러를 사용하면 인쇄할 내용은 하드디스크의 스풀러 공간에 저장하고, 워드프로세서에서는 다른 작업 가능
- 문서 작업과 프린터 출력을 독립적으로 진행하여 시스템 효율이 올라감
- 특징
  - 프로그램 간에 배타적임
  - 스풀러 내의 작업 내용은 순차적으로 진행
    - 한 인쇄물이 완료될 때 까지 다른 인쇄물이 끼어들 수 없고, 인쇄물들이 순차적으로 출력



#### 3. 버퍼를 사용할 때 문제점과 해결 방법

- 문제점
  - 버퍼에 데이터가 차 있지 않으면 버퍼가 찰 때까지 기다렸다 데이터를 전송함, 이때 버퍼 내 데이터를 옮길 대상이 제거되면 문제가 발생
- 해결방법
  - 하드웨어 안전 제거를 사용하면 버퍼가 다 차지 않아도 강제로 버퍼 내용을 저장 장치로 옮긴 후 입출력 장치의 전원을 차단



### 2. 캐시

#### 1. 개념

- 두 장치 간 속도 차이를 완화시켜 주는 것으로, 버퍼의 한 종류
- 버퍼는 필요한 데이터를 가져오는 장치라면, 캐시는 필요할 것이라 예상되는 데이터를 미리 가져오는 장치(prefetch)
- 참고: fetch
  - 요청하고 가지고 오는 것을 의미



#### 2. 특징

- CPU 속도로 동작하기 때문에 일반 메인메모리보다도 훨씬 빠르며, **CPU 내부**에 있음
- 앞으로 필요할 데이터를 캐시에 미리 가져다 놓으면 CPU가 작업을 빠르게 진행할 수 있음

- 캐시를 개발, 사용하는 비용이 커서, 무작정 크게 할 수는 없다



#### 3. 소프트웨어적 캐시: 웹 브라우저 캐시

- 방문했던 웹 사이트의 데이터(로고나 작은 그림 등)을 보관하고 있다가 재방문할 때 재사용하여 속도를 높임
- 캐시에 너무 많은 데이터가 보관되어 있으면 데이터를 찾는 데 시간이 걸려 오히려 웹 브라우저의 속도를 저하시킬 수 있으므로 적절한 캐시 청소 필요



## 3. CPU(Central Processing Unit)

### 1. CPU의 구성

- CPU는 명령어를 해석하여 실행하는 장치, 인간의 두뇌에 해당
- 산술 논리 연산 장치(알루), 제어 장치, 레지스터(register)로 구성



### 2. CPU의 동작

#### 1. 산술 논리 연산 장치(ALU: Arithmetic Logic Unit)

- 주어진 데이터를 사용하여 덧셈, 뺄셈, 곱셈, 나눗셈의 산술 연산과 AND, OR 등의 논리 연산 수행



#### 2. 제어 장치

- CPU에서 작업을 지시하는 장치
  - 저장 장치에서 메인메모리로 데이터를 가져오는 명령
  - 저장 장치로 데이터를 내보내는 명령
  - 입력 장치에서 데이터를 가져오고, 출력 장치에 데이터를 내보내는 명령 등을 내림



#### 3. 레지스터(Register)

- CPU 내 데이터를 임시로 보관하는 장치
- 계산하는 데 필요한 데이터를 잠시 저장하거나 계산의 중간 값을 저장



#### 4. 명령 2+3의 처리 과정

- 그림 참고

- 그림의 100, 120, 160등은 주소를 나타냄

1. 입력값 2, 3이 메인 메모리에 저장
2. 2, 3이 레지스터로 이동
3. 제어장치에서 명령을 받아 2 + 3이 ALU에서 계산
4. 결과 값 5가 레지스터에 저장
5. 5가 메인메모리에 저장



### 3. CPU의 성능

#### 1. 데이터 처리량

- CPU는 **한 번에 처리할 수 있는 데이터**에 따라 32bit, 64bit CPU로 나뉨
- 버스의 대역폭과 레지스터 크기는 맞았을 때 효율성이 높아지기 때문에 맞춤
- 32bit CPU
  - 버스의 대역폭(bandwidth) 32비트
  - 레지스터 크기 32비트
- 64bit CPU
  - 버스의 대역폭(bandwidth) 64비트
  - 레지스터 크기 64비트
- 대역폭이 두 배가 된다고 속도가 2배가 되는 것은 아님



#### 2. CPU의 성능 향상 방법

- CPU 클록 높이기
  - 발열 문제로 현재는 5GHz가 넘는 CPU를 개발하기 어려움
- 캐시 크기 늘리기
  - 비용 문제 발생
- CPU 핵심 기능을 가진 **코어를 여러 개** 만들거나 **동시에 실행 가능한 명령 개수를 늘리는** 방법 사용



## 4. 메인메모리

### 1. 메인메모리의 구성과 종류

#### 1. 메인메모리의 역할

- 작업

#### 2. 메인메모리의 주소

- 전체 크기를 1바이트씩 나누고 각각의 바이트에 데이터를 저장
- 특정 데이터를 저장

#### 3. 메인메모리의 종류

- 램(RAM: Random Access Memory)
  - 읽거나 쓸 수 있음
  - 휘발성
    - DRAM
    - SRAM
    - SDRAM
  - 비휘발성
    - 플래시 메모리
    - FRAM
    - PRAM
- 롬(ROM: Read Only Memory)
  - 읽기만 가능
  - 마스크롬
  - PROM
  - EPROM



### 2. 램

#### 1. 휘발성 메모리

- 전원이 없으면 데이터가 사라지는 대신 접근 속도가 빠름

- 종류

  - DRAM(Dynamic Ram) - 동적 램
    - 저장된 데이터가 일정 시간이 지나면 사라짐
    - 일정 시간마다 다시 재생(refresh) 필요
    - 메인메모리로 사용
  - SRAM(Satic Ram) - 정적 램
    - 재생할 필요가 없음
      - 전원이 공급되는 한 데이터가 유지
    - 속도는 빠르지만 가격이 비쌈
    - 캐시메모리로 사용

  - SDRAM(동기 DRAM)

    - DRAM의 발전된 형태
    - 현재 주도적인 기술
    - 클록 틱이 일어날 때마다 데이터를 저장
    - 컴퓨터 메인메모리나 스마트폰에서 사용

    - SDRAM의 진화
      - SDRAM
        - 클록 틱 한 번에 데이터 1개를 저장
      - DDR SDRAM(Double Data Rate SDRAM)
        - 클록 틱 한 번에 데이터 2개를 저장
      - DDR2 SDRAM
        - SDRAM보다 대역폭이 4(2^2)배 더 큼
      - DDR3 SDRAM
        - SDRAM보다 대역폭이 8(2^3)배 더 큼
      - DDR4 SDRAM
        - SDRAM보다 대역폭이 16(2^4)배 더 큼

### 3. ROM

- 전원이 꺼져도 데이터를 보관하는 장점
- 데이터를 한번 저장하면 내용을 바꿀 수 없음
- 종류
  - 마스크 롬
    - 데이터를 지우거나 쓸 수 없음(읽기 전용)
  - PROM(Programmable ROM)
    - 전용 기계를 사용하여 데이터를 한 번만 저장할 수 있음
  - EPROM(Erasable PROM)
    - 여러 번 쓰고 지울 수 있음(최신기술)
    - 플래시 메모리처럼 사용, 가격 비쌈



## 5. 저장장치

### 1. 저장장치의 특징과 종류

#### 1. 저장장치의 특징

#### 2. 저장장치의 종류

- 자성을 이용하는 장치



### 2. 하드디스크

#### 1. 하드디스크(HDD)

- 움직이는 헤드를 가진 하드디스크 드라이브(moving-head hard disk drive)

#### 2. 하드디스크의 구조

- 스핀들이라는 원통 축에 **플래터**(platter 혹은 disk)가 여러 개 달려 있음
- 플래터
  - 표면에 자성체를 발라 자기를 이용해 0과 1의 데이터를 저장(N극은 0, S는 1이라고 인식)
  - 개수는 보통 2장 이상으로 구성
  - 항상 일정한 속도로 회전
    - e.g. 1분에 7500바퀴 회전 => 7500rpm
  - 플래터 한 장에는 2개의 면에 데이터가 저장

- **섹터**
  - 가장 작은 저장 단위로 **물리적인 개념**
  - 섹터 1개에는 한 덩어리의 데이터가 저장
- 트랙
  - 플래터에서 회전축을 중심으로 데이터가 기록되는 동심원
  - 여러 디스크에 있는
- 헤드

#### 3. 하드디스크의 데이터 전송 단위

- 블록
  - 하드디스크와 컴퓨터 사이에 데이터를 **전송**하는 **논리적인 저장 단위** 중 가장 작은 단위
  - 섹터 여러 개로 구성
  - '블록' 이라는 용어 대신 '할당 단위' 라고도 함
    - 데이터를 주고 받을 때 단위

#### 4. 하드디스크의 포맷

- 디스크를 처음의 깨끗한 상태로 되돌리는 것
- 데이터가 전부 사라짐
- 포맷 시 블록 할당 단위를 크게 하면 큰 데이터를 조금 빠르게 저장할 수 있음



### 3. 레이저를 이용하는 저장 장치

#### 1. CD

- 하드디스크처럼 트랙과 섹터로 구성

- 표면에 미세한 홈을 판 후 헤드에서 발사한 레이저가 홈에 들어가 반사되지 않으면 0, 반사되면 1이라고 인식
- 헤드 위치에 따라 디스크 회전 속도가 변함
- 가장 최초로 만든 CR-ROM을 기준으로 하여 최대 전송 속도를 표시

#### 2. DVD

- 용량이 커진 CD

#### 3. 블루레이

- 용량이 커진 DVD
- 대용량 미디어 저장용



### 4. 하드웨어 사양

#### 1. SSD

- 반도체 메모리를 사용하여 하드디스크를 구현한 것
- 하드디스크처럼 모터를 사용하는 부분이 없음
- 빠르고 가벼움

#### 2. 스마트폰 사양의 예

- AP(CPU + 메인메모리 + 통신장비)



### 5. 병렬처리

#### 1. CPU와 병렬 처리

- CPU의 클록 속도를 높이면 성능도 높아지지만, 발열 문제 발생



#### 2. 예시



#### 3. 병렬 처리 기법

- 파이프라인 기법
  - 하나의 코어 안에서, 여러 개의 작업 단위를 두는 것
  - CPU에서 가장 작은 작업을 스레드(Thread)라고 부름
  - 하나의 코어에 여러 개의 스레드를 동시에 실행

- 슈퍼스칼라 기법
  - 여러 개의 코어를 두는 것
  - 주방을 2개 설치하면 2배로 작업 가능
  - 코어를 늘려 동시에 작업 처리



### 6. 포트 규격

#### 1. 메인보드의 포트

- CPU 포트
  - CPU 꽂는 포트
- 램 포트
  - 메인메모리를 꽂는 포트

- SATA(Serial ATA)

- 

#### 2. 컴퓨터의 후면 포트

- 직렬 포트
  - 마우스, 키보드 등 느린 장치
- USB 포트
  - 여러 개의 주변 기기를 연결하려고 만든 표준 연결 포트
  - 데이터를 주고 받기 위해서는 전원 공급 필수



- 객관식 답
  - 2
  - 4
  - 1
  - 2
  - 3
  - 4
  - 1
  - 2
  - 3
  - 10: 3
  - 3
  - 1
  - 4
  - 2
  - 3
  - 2
  - 3
  - 1
  - 1
  - 20: 2
  - 4
  - 1
  - 2
  - 1
  - 3
  - 3
  - 3
  - 2
  - 1
  - 3
  - 2
